<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ã–ÄŸrenci Grup OluÅŸturucu</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Scrollbar Ã¶zelleÅŸtirmesi */
        textarea::-webkit-scrollbar {
            width: 8px;
        }
        textarea::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        textarea::-webkit-scrollbar-thumb {
            background: #d1d5db;
            border-radius: 4px;
        }
        textarea::-webkit-scrollbar-thumb:hover {
            background: #9ca3af;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800 min-h-screen flex flex-col">

    <!-- BaÅŸlÄ±k AlanÄ± -->
    <header class="bg-indigo-600 text-white p-4 shadow-md">
        <div class="container mx-auto flex items-center justify-between">
            <h1 class="text-2xl font-bold flex items-center gap-2">
                <!-- Users Icon SVG -->
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                Ã–ÄŸrenci Grup OluÅŸturucu
            </h1>
            <span class="text-sm bg-indigo-500 px-3 py-1 rounded-full">
                TÃ¼rk & Ä°talyan EÅŸleÅŸmesi
            </span>
        </div>
    </header>

    <div class="flex flex-col lg:flex-row flex-1 overflow-hidden h-full">
        
        <!-- SOL PANEL: Ä°sim Listeleri -->
        <aside class="w-full lg:w-1/4 bg-white border-r border-gray-200 p-4 flex flex-col gap-4 overflow-y-auto shadow-sm z-10 h-screen lg:h-auto">
            <div class="flex-1 flex flex-col min-h-[200px]">
                <label class="font-bold text-red-600 mb-2 flex items-center gap-2">
                    ðŸ‡¹ðŸ‡· TÃ¼rk Ã–ÄŸrenciler
                    <span id="trCount" class="text-xs font-normal text-gray-500 ml-auto">(0)</span>
                </label>
                <textarea id="trInput"
                    class="flex-1 w-full p-3 border border-red-200 rounded-lg focus:ring-2 focus:ring-red-500 focus:outline-none resize-none text-sm bg-red-50"
                    placeholder="Ä°simleri buraya yapÄ±ÅŸtÄ±rÄ±n..."></textarea>
            </div>

            <div class="flex-1 flex flex-col min-h-[200px] mt-4">
                <label class="font-bold text-green-600 mb-2 flex items-center gap-2">
                    ðŸ‡®ðŸ‡¹ Ä°talyan Ã–ÄŸrenciler
                    <span id="itCount" class="text-xs font-normal text-gray-500 ml-auto">(0)</span>
                </label>
                <textarea id="itInput"
                    class="flex-1 w-full p-3 border border-green-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:outline-none resize-none text-sm bg-green-50"
                    placeholder="Ä°simleri buraya yapÄ±ÅŸtÄ±rÄ±n..."></textarea>
            </div>

            <div class="flex flex-col gap-2 mt-4 pb-4">
                <button id="btnGroup"
                    class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors shadow-sm cursor-pointer">
                    <!-- Shuffle Icon SVG -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l14.2-12.6c.8-1 2-1.7 3.3-1.7H22"/><path d="M2 6h1.4c1.3 0 2.5.6 3.3 1.7l14.2 12.6c.8 1 2 1.7 3.3 1.7H22"/></svg>
                    Rastgele Grupla
                </button>
                <button id="btnReset"
                    class="w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors cursor-pointer">
                    <!-- RotateCcw Icon SVG -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>
                    SÄ±fÄ±rla
                </button>
            </div>
        </aside>

        <!-- SAÄž PANEL: Gruplar -->
        <main class="flex-1 bg-gray-100 p-6 overflow-y-auto h-screen lg:h-auto">
            <div class="max-w-7xl mx-auto">
                <h2 class="text-xl font-semibold mb-4 text-gray-700">
                    Grup Tablosu (14 Masa)
                </h2>
                
                <div id="groupsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 pb-10">
                    <!-- Gruplar JavaScript ile buraya eklenecek -->
                </div>
            </div>
        </main>
    </div>

    <!-- JavaScript MantÄ±ÄŸÄ± -->
    <script>
        // VarsayÄ±lan Veriler
        const defaultTrNames = [
            "Mustafa Onur YÄ±lmaz", "Hanife Ceyda YÄ±ldÄ±z", "Elif Ceren Korkmaz", "Egemen Cin",
            "Melis Su Ã‡elik", "Feyzanur YalÃ§Ä±n", "YiÄŸit Emin BaÅŸÄ±bÃ¼yÃ¼k", "Yasin Ã‡elik",
            "Berra Nur HoÅŸrenk", "Eren Sabit GÃ¶kÃ§en", "Ä°layda Nur AkÃ¶z", "Ã–mer Faruk ÅžÄ±k",
            "GÃ¼leÃ§ TerzioÄŸlu", "Hakan Åžahin"
        ].join('\n');

        const defaultItNames = [
            "Alessia De Martino", "Luigi Sorrentino", "Giovanni Cozzolino", "Christian Ascione",
            "Sarah Di Buono", "Chiara Cipolletta", "Angelo Borriello", "Iacopo Giuseppe Izzo",
            "Alessandro Picarelli", "Chiara Flauti", "Siria Cefariello", "Christian Nobile",
            "Ludovica Tramontano", "Antonio Scognamiglio"
        ].join('\n');

        // DOM Elementleri
        const trInput = document.getElementById('trInput');
        const itInput = document.getElementById('itInput');
        const trCount = document.getElementById('trCount');
        const itCount = document.getElementById('itCount');
        const groupsGrid = document.getElementById('groupsGrid');
        const btnGroup = document.getElementById('btnGroup');
        const btnReset = document.getElementById('btnReset');

        // BaÅŸlangÄ±Ã§ Durumu
        trInput.value = defaultTrNames;
        itInput.value = defaultItNames;
        let isGrouped = false;

        // SayÄ± GÃ¼ncelleme Fonksiyonu
        function updateCounts() {
            const trLines = trInput.value.split('\n').filter(n => n.trim()).length;
            const itLines = itInput.value.split('\n').filter(n => n.trim()).length;
            trCount.textContent = `(${trLines})`;
            itCount.textContent = `(${itLines})`;
        }

        // Event Listener: GiriÅŸlerde sayÄ±larÄ± gÃ¼ncelle
        trInput.addEventListener('input', updateCounts);
        itInput.addEventListener('input', updateCounts);

        // Fisher-Yates KarÄ±ÅŸtÄ±rma AlgoritmasÄ±
        function shuffleArray(array) {
            let currentIndex = array.length, randomIndex;
            const newArray = [...array];
            while (currentIndex !== 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [newArray[currentIndex], newArray[randomIndex]] = [
                    newArray[randomIndex], newArray[currentIndex]];
            }
            return newArray;
        }

        // GruplarÄ± Ekrana Ã‡izme Fonksiyonu
        function renderGroups(groupsData = []) {
            groupsGrid.innerHTML = ''; // Temizle

            // EÄŸer veri yoksa boÅŸ 14 grup oluÅŸtur
            const displayGroups = groupsData.length > 0 ? groupsData : Array(14).fill({ tr: null, it: null });

            displayGroups.forEach((group, index) => {
                const trName = group.tr || "Bekleniyor...";
                const itName = group.it || "Bekleniyor...";
                const trClass = !group.tr ? 'text-gray-400 italic text-sm' : 'font-medium';
                const itClass = !group.it ? 'text-gray-400 italic text-sm' : 'font-medium';
                
                const cardBorderClass = isGrouped 
                    ? 'border-blue-500 transform hover:-translate-y-1 hover:shadow-md' 
                    : 'border-dashed border-gray-300 bg-gray-50';

                const trIcon = group.tr ? '<span class="text-lg">ðŸ‡¹ðŸ‡·</span>' : `
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                `;
                
                const itIcon = group.it ? '<span class="text-lg">ðŸ‡®ðŸ‡¹</span>' : `
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                `;

                const decorativeLine = isGrouped ? '<div class="h-1 w-full bg-gradient-to-r from-red-500 via-white to-green-500 opacity-50 absolute bottom-0"></div>' : '';

                const html = `
                <div class="relative bg-white rounded-xl shadow-sm border-2 transition-all duration-300 overflow-hidden ${cardBorderClass}">
                    <!-- Grup NumarasÄ± -->
                    <div class="absolute top-0 left-0 bg-gray-800 text-white text-xs font-bold px-2 py-1 rounded-br-lg z-10">
                        Grup ${index + 1}
                    </div>

                    <div class="p-4 pt-8 space-y-3">
                        <!-- TÃ¼rk Ã–ÄŸrenci Slotu -->
                        <div class="flex items-center gap-3 p-2 rounded-lg bg-red-50 border border-red-100">
                            <div class="w-8 h-8 rounded-full bg-red-100 flex items-center justify-center text-red-600 shrink-0">
                                ${trIcon}
                            </div>
                            <div class="overflow-hidden w-full">
                                <p class="text-xs text-red-500 font-semibold uppercase tracking-wider">TÃ¼rk Ã–ÄŸrenci</p>
                                <p class="${trClass} truncate" title="${trName}">${trName}</p>
                            </div>
                        </div>

                        <!-- Ä°talyan Ã–ÄŸrenci Slotu -->
                        <div class="flex items-center gap-3 p-2 rounded-lg bg-green-50 border border-green-100">
                            <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-600 shrink-0">
                                ${itIcon}
                            </div>
                            <div class="overflow-hidden w-full">
                                <p class="text-xs text-green-600 font-semibold uppercase tracking-wider">Ä°talyan Ã–ÄŸrenci</p>
                                <p class="${itClass} truncate" title="${itName}">${itName}</p>
                            </div>
                        </div>
                    </div>
                    ${decorativeLine}
                </div>
                `;
                groupsGrid.innerHTML += html;
            });
        }

        // Grupla Butonu MantÄ±ÄŸÄ±
        btnGroup.addEventListener('click', () => {
            const trList = trInput.value.split('\n').filter(name => name.trim() !== '');
            const itList = itInput.value.split('\n').filter(name => name.trim() !== '');

            const shuffledTr = shuffleArray(trList);
            const shuffledIt = shuffleArray(itList);

            // 14 grubu doldur
            const newGroups = Array(14).fill(null).map((_, index) => {
                return {
                    tr: shuffledTr[index] || null,
                    it: shuffledIt[index] || null
                };
            });

            isGrouped = true;
            renderGroups(newGroups);
        });

        // SÄ±fÄ±rla Butonu MantÄ±ÄŸÄ±
        btnReset.addEventListener('click', () => {
            isGrouped = false;
            renderGroups([]);
        });

        // Ä°lk aÃ§Ä±lÄ±ÅŸta boÅŸ gruplarÄ± ve sayÄ±larÄ± gÃ¶ster
        updateCounts();
        renderGroups();

    </script>
</body>
</html>
